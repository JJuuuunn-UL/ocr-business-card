<template>
    <aside v-if="history.length > 0" class="history-list">
        <h3>ğŸ“œ ëª…í•¨ OCR ê¸°ë¡</h3>
        <ul>
            <li v-for="(item, index) in history" :key="index" class="card-container">
                <img :src="item.image" alt="ëª…í•¨ ì´ë¯¸ì§€" class="history-image" />
                <div class="center">
                    <button @click="viewDetails(index)" class="custom-button mini">ìì„¸íˆ ë³´ê¸°</button>
                </div>
                <!-- ê²°ê³¼ê°€ ìˆì„ ë•Œë§Œ ë³´ì—¬ì£¼ê¸° -->
                <div v-if="viewItems[index]" class="result">
                    <h3>ğŸ“Œ ì¶”ì¶œëœ ì •ë³´</h3>
                    <p><strong>íŒŒì¼ ì´ë¦„:</strong> {{ item.fileName }}</p>
                    <p><strong>ì´ë¦„:</strong> {{ item.result.name  || ""}}</p>
                    <p><strong>íšŒì‚¬ëª…:</strong> {{ item.result.company  || ""}}</p>
                    <p><strong>ë¶€ì„œ:</strong> {{ item.result.department  || ""}}</p>
                    <p><strong>ì§ìœ„:</strong> {{ item.result.position  || ""}}</p>
                    <p><strong>ì£¼ì†Œ:</strong> {{ item.result.address  || ""}}</p>
                    <p><strong>ëª¨ë°”ì¼:</strong> {{ item.result.mobile  || ""}}</p>
                    <p><strong>ì „í™”ë²ˆí˜¸:</strong> {{ item.result.tel  || ""}}</p>
                    <p><strong>ì´ë©”ì¼:</strong> {{ item.result.email  || ""}}</p>
                    <p><strong>í™ˆí˜ì´ì§€:</strong> {{ item.result.homepage  || ""}}</p>
                    <!-- <p><strong>ì´ë¦„:</strong> {{ "" }}</p>
                    <p><strong>íšŒì‚¬ëª…:</strong> {{ "" }}</p>
                    <p><strong>ë¶€ì„œ:</strong> {{ "" }}</p>
                    <p><strong>ì§ìœ„:</strong> {{ "" }}</p>
                    <p><strong>ì£¼ì†Œ:</strong> {{ "" }}</p>
                    <p><strong>ëª¨ë°”ì¼:</strong> {{ "" }}</p>
                    <p><strong>ì „í™”ë²ˆí˜¸:</strong> {{ "" }}</p>
                    <p><strong>ì´ë©”ì¼:</strong> {{ "" }}</p>
                    <p><strong>í™ˆí˜ì´ì§€:</strong> {{ "" }}</p> -->
                </div>
            </li>
        </ul>
    </aside>
</template>

<script setup>
import { ref, defineProps } from 'vue';
import '../assets/styles/HistoryList.css';

defineProps({
    history: {
        type: Array,
        required: true,
    },
});

const viewItems = ref([]);

const viewDetails = (index) => {
    viewItems.value[index] = !viewItems.value[index];
};

</script>
